---
layout: post
title: 使用OpenCV实现车标识别
tags: 机器学习 计算机视觉
key: 20180116_opencv
picture_frame: shadow
---
# 使用OpenCV实现车标自动识别
## 写在前面
最近闲着没事，就把旧的博客从博客园迁移过来。看了一下这篇，原文写的太稚气了(毕竟那时年轻lol)，现在在这里把它整理一下。
## 开篇
本博客将要手把手教大家怎么使用OpenCV自带的简单BP神经网络来训练识别不同的车标。  
> 所有代码和数据集均可以从我的 [GitHub仓库](https://github.com/Holy-Shine/carLogoRec) 免费下载获取

主要用到了以下环境和数据集。
### 环境和数据集
- 配置了OpenCV 2.4.6及以上版本的VS2010+
- 一个车标数据库。demo使用了900多张车标样本，手工划分为训练集(560张)和测试集(371)张

### demo关键词
- HOG特征
- BP神经网络
## 正篇
接下来我将结合代码分几步来讲怎么识别图像特征、输入BP神经网络训练，一步一步扩充代码
### 第一步 建立demo
简单讲一下`demo`的预处理，本`demo`只有一个`main.cpp`文件，因此在建好工程后，建一个`main.cpp`就可以了。然后将我们的车标库`test`测试集和`train`训练集放在和整个工程同一目录下。
为了读取图片方便，我们使用两个`txt`文件`trainpath`、和`testpath`来保存每张图片的路径（路径文件在车标库里有，但是如果要使用这两个文件，就必须把他们放在`main.cpp`同一个目录下，同时，车标库也必须放在和工程同一目录下,路径文件也可以自己编写批处理文件生成）    
车标库和工程的位置关系：

![](https://images2015.cnblogs.com/blog/957212/201606/957212-20160622193655735-470122093.png)  

图片路径文件和`main.cpp`的关系：  

![](https://images2015.cnblogs.com/blog/957212/201606/957212-20160622193906047-1692976635.png)  

为`main.cpp`添加`OpenCV`头文件，如果对OpenCV结构不是很熟，可以把头文件一股脑写出来。
~~~cpp
#include <iostream>
#include <fstream>
#include <opencv.hpp>
#include <highgui.h>
#include <cxcore.h>
#include <cstring>
#include <ml.h>
#include <vector>
#include <iomanip>
~~~

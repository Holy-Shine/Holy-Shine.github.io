<header class="m-page-header main clearfix">
  {%- if site.paths.base -%}
    {%- assign __path = site.paths.base -%}
  {%- else -%}
    {%- assign __path = '/' -%}
  {%- endif -%}
  {%- include snippets/prepend-baseurl.html -%}
  {%- if site.title -%}
    <a class="site-title" title="{%- if site.description -%}{{ site.description }}{%- endif -%}" href="{{ __return }}">{{ site.title }}</a>
  {%- endif -%}
  <div class="site-logo">
    {%- include logo/logo.svg -%}
  </div>
  <nav>
    <ul class="inline-list">
      {%- if site.paths.home -%}
        {%- assign __path = site.paths.home -%}
      {%- else -%}
        {%- assign __path = '/' -%}
      {%- endif -%}
      {%- assign pre7 = __path | slice: 0, 7 -%} {%- assign pre8 = __path | slice: 0, 8 -%}
      {%- if pre7 == 'http://' or pre8 == 'https://' -%}
        {%- assign href = __path -%}
      {%- else -%}
        {%- include snippets/prepend-baseurl.html -%}
        {%- assign href = __return -%}
      {%- endif -%}
      {%- assign __locale = site.data.locale.NAV.HOME -%}
      {%- include snippets/locale-to-string.html -%}
      <li><a href="{{ href }}">{{ __return }}</a></li>
      {%- if site.paths.all -%}
        {%- assign __path = site.paths.all -%}
      {%- else -%}
        {%- assign __path = '/all.html' -%}
      {%- endif -%}
      {%- include snippets/prepend-baseurl.html -%}
      {%- assign href = __return -%}
      {%- assign __locale = site.data.locale.NAV.ALL -%}
      {%- include snippets/locale-to-string.html -%}
      <li><a href="{{ href }}">{{ __return }}</a></li>
      {%- for list in site.nav_lists -%}
        {%- assign __path = list.url -%}
        {%- include snippets/prepend-baseurl.html -%}
        {%- assign href = __return -%}
        {%- assign __locale = list.titles -%}
        {%- include snippets/locale-to-string.html -%}
        <li><a href="{{ href }}">{%- if list.title -%}{{ list.title }}{%- else -%}{{ __return }}{%- endif -%}</a></li>
      {%- endfor -%}
      {%- if site.paths.rss -%}
        {%- assign __path = site.paths.rss -%}
      {%- else -%}
        {%- assign __path = '/feed.xml' -%}
      {%- endif -%}
      {%- include snippets/prepend-baseurl.html -%}
      {%- assign href = __return -%}
      {%- assign __locale = site.data.locale.NAV.RSS -%}
      {%- include snippets/locale-to-string.html -%}
      <li><a type="application/rss+xml" href="{{ href }}">{{ __return }}</a></li>
    </ul>
  </nav>
  <!-- mathjax config similar to math.stackexchange -->

	<script type="text/x-mathjax-config">
	  MathJax.Hub.Config({
		tex2jax: {
		  inlineMath: [ ['$','$'], ["\\(","\\)"] ],
		  processEscapes: true
		}
	  });
	</script>

	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
		  tex2jax: {
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
		  }
		});
	</script>

	<script type="text/x-mathjax-config">
		MathJax.Hub.Queue(function() {
			var all = MathJax.Hub.getAllJax(), i;
			for(i=0; i < all.length; i += 1) {
				all[i].SourceElement().parentNode.className += ' has-jax';
			}
		});
	</script>

	<script type="text/javascript"
	   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
</header>
